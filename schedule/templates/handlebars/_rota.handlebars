
    <div class="panel panel-default">
        <div class="panel-heading">
            <h3 class="panel-title">{{#if rotaLoading}}<label id="person-rota-spinner" class="spinner">&nbsp;</label>{{/if}}Rota&nbsp;
                {{view Ember.Select
                    value=rotaRangeSelected
                    content=ranges
                    optionValuePath="content.value"
                    optionLabelPath="content.name"}}&nbsp;
                <button class="btn" {{action refreshRota}} title="Refresh Rota"><span class="glyphicon glyphicon-refresh"></span></button>
            </h3>
        </div>
        <div class="panel-body" id="person-rota">
        {{#if rota}}
        <div class="table-responsive">
            <table class="table table-striped">
            <thead>
                <tr>
                    <th>Date</th><th>Event</th>
                </tr>
            </thead>
            <tbody>
            {{#each r in rota}}
            <tr>
                <td>
                    {{#if r.is_away}}
                        <span class="alert-danger" title="You are away for this date. Please arrange a swap.">{{formatDate r.on_date}}</span>
                    {{else}}
                        {{formatDate r.on_date}}
                    {{/if}}
                </td>
                <td>
                    {{#each event in r.events}}
                        <div>
                            {{#link-to "event_date" event.event_id event.event_date_id}}{{event.event}}{{/link-to}}
                        <span>
                            {{#each role in event.roles}}
                                <span class="label label-default">{{role.name}}</span>
                            {{/each}}
                        </span>
                        </div>
                    {{/each}}
                </td>
            </tr>
            {{/each}}
            </tbody>
            </table>
        </div>
        {{else}}
            <p>Dude! You've got nothing to do!</p>
        {{/if}}
        </div>
    </div>

